<mat-toolbar color="primary">
	<span class="app-logo">MedicineMan</span>
	<span class="flex-fill"></span>
	<button mat-icon-button>
		<mat-icon>settings</mat-icon>
	</button>
	<button mat-icon-button routerLink="/logout">
		<mat-icon>exit_to_app</mat-icon>
	</button>
</mat-toolbar>

<div class="content-container">
	<h2>Hello, {{practitioner?.name}}</h2>

	<div class="grid">
		<mat-card class="patients">
			<div class="align-center" *ngIf="isLoading">
				Loading patients...
				<mat-spinner diameter="30" color="primary"></mat-spinner>
			</div>
			<div [hidden]="isLoading">
				<h3>Your patients</h3>
				<table mat-table [dataSource]="tableDataSource" class="full-width">
					<ng-container matColumnDef="counter">
						<th mat-header-cell *matHeaderCellDef>S/N</th>
						<td mat-cell *matCellDef="let patient; let i = index"> {{i + 1}} </td>
					</ng-container>
					<ng-container matColumnDef="name">
						<th mat-header-cell *matHeaderCellDef> Name </th>
						<td mat-cell *matCellDef="let patient"> {{patient?.name}} </td>
					</ng-container>
					<ng-container matColumnDef="action">
						<th mat-header-cell *matHeaderCellDef></th>
						<td mat-cell *matCellDef="let patient; let i = index" class="align-right">
							<button mat-icon-button color="accent" (click)="monitorPatient(patient)" [disabled]="patient.isMonitored">
								<mat-icon>add</mat-icon>
							</button>
						</td>
					</ng-container>
					<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
					<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
				</table>
			</div>
		</mat-card>
		<mat-card class="monitor">
			<app-monitor [patientToAdd]="patientToAdd" (remove)="unmonitorPatient($event)"></app-monitor>
		</mat-card>
	</div>
</div>
